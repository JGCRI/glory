---
title: '`GLORY`: a python package for global reservoir water yield and cost estimation'
tags:
  - Python
  - global reservoir water yield
  - reservoir cost
authors:
  - name: Mengqi Zhao
    orcid: 0000-0001-5385-2758
    affiliation: 1
  - name: Thomas B. Wild
    orcid: 0000-0002-6045-7729
    affiliation: 2
  - name: Chris R. Vernon
    orcid: 0000-0002-3406-6214
    affiliation: 1
affiliations:
 - name: Pacific Northwest National Laboratory, Richland, WA, USA
   index: 1
 - name: Joint Global Change Research Institute, College Park, MD, USA
   index: 2
date: December 2023
bibliography: paper.bib
---

# Summary
The `GLORY` (GLObal Reservoir Yield) model is an open-source Python package designed to optimize water yield for a given reservoir storage capacity while also estimating the economic value of water supply for global river basins (Figure 1). Utilizing a linear programming (LP)-based algorithm, `GLORY` maximizes annual water yield by considering a monthly reservoir water balance that accounts for inflow, surface water evaporation, reservoir release, environmental flow, return flow, and spills. In addition to optimizing water yield, `GLORY` calculates the cost of constructing reservoirs and the prices of water at different reservoir expansion stages across global basins. The model streamlines workflows by integrating information on climate, hydrology, water demand, reservoir exploitable potential, and physiography to estimate the water availability and prices of water supply from reservoirs. The relationships of 'storage capacity - water yield' and 'surface water supply - cost' generated by `GLORY` identify the sub-annual regulation capability and associated investment of reservoirs, establishing boundary conditions for basin-level analysis on reservoir management.

![The GLORY model workflow showing the input data requirements and the steps of modeling capacity-yield relationships and supply curves. \label{fig:1}](workflow.png)


# Statement of Need
Reservoir management has been widely applied in watershed hydrological models to simulate streamflow patterns under human activities. However, it is less common for applications of reservoir management and expansion [@Vanderkelen_2021], and economic implications on water supply at large scale (e.g., regional to global) under socioeconomic and environmental constraints. These aspects are particularly useful in the context of integrated multisector analysis that explores interactions of socioeconomic, water, food, energy, and climate systems [@Rising_2020; @Sen_2021; @Zhao_2024]. Water sector dynamics are often introduced to the multi-sector dynamics models [@Reed_2022] as a simplified water balance or water market module, where reservoirs are either ignored, or represented in forms of regulated streamflows within the basin. We developed `GLORY` to bridge the gap of quantifying water supply potential and its economic value given the intra-annual hydrological and socioeconomic dynamics and reservoir expansion pathways. The `GLORY` model offers spatial comparison of the effectiveness of reservoir management and economic feasibility across global basins, which are often overlooked by global hydrological models but are crucial for global human-Earth system models [@Bell_2014]. More broadly, `GLORY` can assist researches on exploring the role of reservoir and its expansion pathways under global climate and socioeconomic changes.


# Design and Functionality
The `GLORY` model is designed to integrate complex processes of estimating reservoir water yield and cost into a pipeline. `GLORY` utilizes human-readable YAML file for easy model configuration. It can be applied to analyze either global basins or a subset of basins and periods of interest. Instead of relying on the default basin delineation, users can also switch to customized geographical boundaries, given the relevant data is available. The modular design of `GLORY` offers users the flexibility to use individual module or the entire model, depending on their interest in the water management or the economic of water supply. 

Here we briefly demonstrate how to use glory to achieve different outcomes. One can effortlessly apply the `glory::lp_model()` function to execute a linear programing model that determines the optimized water yield for a given reservoir storage capacity. To generate a capacity-yield curve and a supply curve with discrete points for a single basin (e.g., Figure 2), users can easily instantiate the `glory::SupplyCurve()` object by providing the configuration object. The `glory::SupplyCurve()` will then undertake the process of identifying reservoir storage capacity expansion pathways and calculating the optimized water yield at each storage capacity point. To apply `GLORY` to multiple basins, simply indicate the basin IDs in the configuration file and run `GLORY` model using `glory::run_model()`. Figure 2 shows an example output of capacity-yield curve and supply curve for Pacific Northwest basin. The detailed documentation on how to use `glory` can be accessed at [glory documentation](https://jgcri.github.io/glory/index.html).

![The GLORY model workflow showing the input data requirements and the steps of modeling capacity-yield relationships and supply curves. \label{fig:2}](curve_pnw.png)

# Acknowledgements
This research was supported by the U.S. Department of Energy, Office of Science, as part of research in MultiSector Dynamics, Earth and Environmental System Modeling Program.

# References
